Введение в параллельное программрование

    ||====================================================================================||
    ||                                1 тема                                              ||
    ||                        "Виды параллелизма"                                         ||
    ||====================================================================================||

Существуют след виды параллелизма: 
- Геометрический - распараллелирование по пространству
- Функциональный - распараллелирование по задачам
- Конвейерный    - ?
- Параллелизм типа принятия коллективного решения - ?
- Каскадный вид параллелизма - ?

В практических задачах применяют несколько видом параллелизма для достичения наивысшей производительности.


## Геометрический вид параллелизма ##

Вся рассчетная область разделяется на приблизительно одинаковые участки, каждый из которых закрепляется за своим процессом. 
Все процессы работают одновременно на своих участках. Границы между соседними процессами называются "стыками". 
Проблема состоит в способе обработки стыков, тк необходимо, чтобы точность вычислений на стыках была равна точности вычислений на всей рассчетной области.

Стена Фокса:

    - "В" - Стена
    - "|" - стык
    - "_" - пустое пространство - область работы каждого работника

    |          |          |          |          |
    |ВВВ_______|ВВВ_______|ВВВ_______|ВВВ_______| - wall
    |          |          |          |          |   
    |1 работник|2 работник|3 работник|4 работник|
    macon (Масон)

Достоинства этого вида параллелизма:
1) Можно обсчитывать большие рассчетные области
2) Все процессы работают одновременно на своих участках, что дает ускорение вычислений

Недостатки:
1) Проблема обработки стыков
2) В некоторых задачах для обработки стыков необходимо передавать сообщение, что приводит к потери времени

Применяется:
1) При решении систем СЛАУ
2) При решении уравнений в частных производных (полевых задач)
3) Решение задач численного интегрироваия


## Функционвльный вид параллелизма ##

Выделяем независимые подзадачи, которые могут выполняться одновременно и независимо друг от друга. За каждым подпроцессом закрепляем свою подзадачу. 
Но подзадачи неравноценны по затратам машинного времени, что приводит к простою некоторых процессов. В некоторых задачах необходимо выделить процесс, 
который сам не проводит вычисления, а только координирует работу других процессов. 

Стена Фокса:

    |ВВВВВВВВВВВВВВВВВВВВ__________________________|
    1 работник строит стену

    2 работник замешивает раствор  \___/  
                                    \_/

    3 Работник строит леса  
    4 работник подносит кирпичи                                

    ПРОРАБ - организует работу всех рабочих


Каждый занимается своим делом, не отвлекаясь на другие задачи

Достоинства: 
1) Все процессы одновременно работают над своими подзадачами, что дает ускорение вычислений

Недостатки:
1) Задачи неравноценны по затратам машинного времени, что приводит к простою некоторых процессов
2) В некоторых задачах необходимо выделить процесс, который не участвует в вычисленях, а только координирует работу остальных процессов

Применение:
1) Решение систем ОДУ
2) Решение задач оптимизации


## Конвейерный вид параллелизма ##

Вся рассчетная область разделяется на приблизительно одинаковые участки по числу процессов. Каждый участок закрепляется за своим процессом. 
Вычисления начинает нулевой процесс. Дойдя до стыка с первым процессом он передает ему данные и переходит на след итерацию. Первый процесс,
получив данные, выполняет вычисления на своей части рассчетной области. Дойдя до стыка со вторым процессом, он передает ему данные и переходит к следующей итерации. 
Последовательно включаются в работу все процессы, и каждый из них находится на своей итерации.


Стена Фокса:

    |BBBB                      |                          |                          |                          |
    |ВВВВВВВВВВВВВВВВВВВВВВВВВВ|ВВВВВВВ                   |                          |                          |
    |ВВВВВВВВВВВВВВВВВВВВВВВВВВ|ВВВВВВВВВВВВВВВВВВВВВВВВВВ|ВВВВВВВ___________________|__________________________|
    |  1 работник              |    2 работник            |    3 работник            |      4 работник          |

Достоинства:
1) Можно обсчитывать большие рассчетные области
2) Стыки есть, но нет проблем с их обработкой
3) Как только все процессы включены в работу, все работают параллельно каждый на своей итерации

Недостатки:
1) Простои в начале и конце вычислений

Применение:
1) Решение уравнений в частных производных (полевые задачи)


## Параллелизм типа принятия коллективного решения ##

Вся рассчетная область разделяется на приблизительно одинаковые участки, каждый из которых закрепляется за своим процессом. 
Каждый процесс на своем участке находит локальный оптимум (мин и макс значение) - локальное оптимальное решение. 
Полученные оптимальные решения собираются на одном процессе (например нулевом) и находится глобальное оптимальное решение, который и есть - решение задачи.

Здесь не работает стена Фокса:
     _______________________________________________
    |       6       |       7       |       8       |               
    |_______________|_______________|_______________|
    |       3       |       4       |       5       |               
    |_______________|_______________|_______________|
    |       0       |       1       |       2       |               
    |_______________|_______________|_______________|               

Достоинства:
1) При нахождении локального оптимального решения ускорение решений равно числу процессов

Недостатки:
1) Узкая область применения

Применение:
1) В задачах оптимизации


## Каскадный вид параллелизма (Логарифмическое сдваивание) ##

Пусть необходимо сложить большое число значений. Каждому процессу выделим свое значение. 
Если складывать Последовательно числа, то потребуется N-1 операций. Будем складывать попарно 
1 Уровень ->    Складываем пары
2 Уровень ->    Складываем пары полученных пар
3 Уровень ->    Аналогично
...
log(N) Уровень -> Складываем последнюю пару 